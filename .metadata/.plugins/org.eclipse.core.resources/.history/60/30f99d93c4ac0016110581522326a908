package objects;

import java.awt.Color;
import java.awt.Graphics2D;
import java.util.Random;

import animationcore.objects.AbstractMovingObject;
import animationcore.physics.CVector;

public class ObjectWithGoal extends AbstractMovingObject {

	private Random r = new Random(100);
	
	private Double goalX;
	private Double goalY;
	
	private Double longX;
	private Double longY;
	
	private Double normalizedX;
	private Double normalizedY;
	
	private Double magnitude;
	
	public ObjectWithGoal(CVector velocity, CVector acceleration) {
		longX = goalX - this.position.getX();
		longY = goalY - this.position.getY();
		this.velocity = velocity;
		this.acceleration = acceleration;
		magnitude = Math.sqrt(longX*longX + longY*longY);
		goalX = r.nextDouble();
		goalY = r.nextDouble();
	}
	
	
	@Override
	public void move() {
		normalizedX = longX / magnitude / 5;
		normalizedY = longY / magnitude / 5;
		
		position.setX((float) (position.getX() + normalizedX));
		position.setY((float) (position.getY() + normalizedY));
		
		System.out.printf("(%f , %f) \n", position.getX(), position.getY());
		
	}

	@Override
	public void draw(Graphics2D g) {
		g.setPaint(color);
		g.fillOval(Math.round(position.getX()), Math.round(position.getY()), ballRadius, ballRadius);
		g.setColor(Color.WHITE);
		g.fillOval(Math.round(position.getX()) + 7, Math.round(position.getY()) + 5,
				(int)Math.round(ballRadius - (ballRadius * 0.75)), 
				(int)Math.round(ballRadius - (ballRadius * 0.35)));
		
	}

}
